# Crypto Arbitrage IDE

Desktop-приложение на Python с тёмной IDE-темой для мониторинга и сканирования арбитражных спредов.

## Как теперь работает сканер
- Есть 2 режима работы:
  - `AUTO` — программа сама перебирает монеты
  - `MANUAL` — программа работает только с монетами, которые ввёл пользователь
- В режиме `AUTO` программа собирает глобальный universe монет по всем подключенным spot-биржам.
- Сначала идут **500 самых популярных монет**.
- Затем запускается длинный проход по **10000 уникальным кодам монет**.
- Сканирование идёт **пакетами по 50 монет** без повторов, пока не закончится полный проход.
- После завершения полного прохода начинается новый цикл.
- Для каждой монеты программа ищет:
  - самую дешёвую биржу покупки
  - самую дорогую биржу продажи
  - возможность перевода именно с биржи покупки на биржу продажи
- Клик по `PAIR` открывает сразу две страницы: биржу покупки и биржу продажи.
- Монеты без вычисляемого спреда в таблицу не попадают.
- Монеты со спредом больше `99%` в списки не попадают.

## Возможности
- Динамический выбор бирж (включая BingX)
- Сопоставление монет только по **точному коду монеты**
- Фильтр `Только проверенные (YES/GOOO)`
- Фильтр `Хороший объём`:
  - проверяет объём на обеих биржах связки
  - порог задаётся пользователем в тыс.$
  - по умолчанию можно ставить от `1`, это значит `1000$`
- Постоянный `blacklist` через `coin_blacklist.json`
- Компактная колонка `TX`:
  - `GOOO` — перевод подтверждён
  - `YES` — сети не раскрыты, но код монеты совпадает
  - `NO` — валидной связки перевода нет
- Окно сохранённого топа:
  - хранит пул из 15 лучших монет
  - показывает 10 лучших и держит 5 в резерве
  - при удалении монеты крестиком резерв сразу подставляется в конец списка
  - позволяет исключить ошибочную монету крестиком `x`
  - исключённая монета не вернётся в топ до конца текущего сеанса
  - окно масштабируется и можно уменьшать сильнее, чем раньше
- Память настроек: `user_settings.json`
  - `Сохранить` / `Загрузить`
  - автосохранение при закрытии
- Подписанная лицензия с ограничением по времени:
  - приложение запускается только с валидным кодом доступа
  - код можно выдать на срок и потом продлить новым кодом
  - лицензия привязывается к конкретному `Machine ID`

## Лицензирование
- Публичный ключ: `license_public_key.pem`
- Приватный ключ: `license_private_key.pem`
  - держи только у себя
  - не отправляй его другу и не клади рядом с `exe`
- Локально активированная лицензия хранится в `license.json`

### Первый запуск у друга
- Программа покажет окно активации.
- В окне будет `Machine ID`.
- Друг отправляет тебе этот `Machine ID`.
- Ты выпускаешь код и отправляешь ему.
- Друг вставляет код в окно активации.

### Как выпустить код
```bash
python license_tool.py init-keys
python license_tool.py issue --customer FRIEND --machine MACHINE_ID --days 30
```

### Как продлить доступ
- Просто выпусти новый код с новой датой истечения и тем же `Machine ID`.
- Старый код заменяется новым при активации.

### Что отправлять вместе с exe
- `app.exe`
- `license_public_key.pem`
- при необходимости остальные рабочие файлы приложения

### Ограничение
- Это не абсолютная защита от реверса.
- Для реального усложнения кражи лучше собирать релиз через `Nuitka` или как минимум `PyInstaller` + обфускацию.

## Установка
```bash
python -m venv .venv
.venv\\Scripts\\activate
pip install -r requirements.txt
```

## Запуск
```bash
python app.py
```
